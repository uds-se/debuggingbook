
<!DOCTYPE html>


<html lang="en" data-content_root="./" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Tracking Bugs &#8212; The Debugging Book</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="_static/styles/theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="_static/styles/bootstrap.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="_static/styles/pydata-sphinx-theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />

  
  <link href="_static/vendor/fontawesome/6.5.2/css/all.min.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=03e43079" />
    <link rel="stylesheet" type="text/css" href="_static/styles/sphinx-book-theme.css?v=eba8b062" />
    <link rel="stylesheet" type="text/css" href="_static/togglebutton.css?v=13237357" />
    <link rel="stylesheet" type="text/css" href="_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="_static/mystnb.8ecb98da25f57f5357bf6f572d296f466b2cfe2517ffebfabe82451661e28f02.css?v=6644e6bb" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-thebe.css?v=4fa983c6" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-design.min.css?v=95c83b7e" />
    <link rel="stylesheet" type="text/css" href="_static/custom.css?v=d5c2cecb" />
    <link rel="stylesheet" type="text/css" href="_static/mastodon-timeline.css?v=f82c2b23" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b" />
<link rel="preload" as="script" href="_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b" />
  <script src="_static/vendor/fontawesome/6.5.2/js/all.min.js?digest=dfe6caa3a7d634c4db9b"></script>

    <script src="_static/documentation_options.js?v=9eb32ce0"></script>
    <script src="_static/doctools.js?v=9a2dae69"></script>
    <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="_static/copybutton.js?v=f281be69"></script>
    <script src="_static/scripts/sphinx-book-theme.js?v=887ef09a"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="_static/togglebutton.js?v=4a39c7ea"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="_static/design-tabs.js?v=f930bc37"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script async="async" src="_static/sphinx-thebe.js?v=c100c467"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'Tracking';</script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Where the Bugs are" href="ChangeCounter.html" />
    <link rel="prev" title="Repairing Code Automatically" href="Repairer.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-primary-sidebar-checkbox"/>
  <label class="overlay overlay-primary" for="pst-primary-sidebar-checkbox"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-secondary-sidebar-checkbox"/>
  <label class="overlay overlay-secondary" for="pst-secondary-sidebar-checkbox"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>
<aside class="bd-header-announcement" aria-label="Announcement">
  <div class="bd-header-announcement__content"><p>This is a beta version of debuggingbook.org, currently in development. See the <a href="https://debuggingbook.org/classic/"  style="color:white!important;">classic site</a> for the 2024 version.</p></div>
</aside>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

  
    
  

<a class="navbar-brand logo" href="index.html">
  
  
  
  
  
    
    
      
    
    
    <img src="_static/debuggingbook.png" class="logo__image only-light" alt="The Debugging Book - Home"/>
    <script>document.write(`<img src="_static/debuggingbook.png" class="logo__image only-dark" alt="The Debugging Book - Home"/>`);</script>
  
  
</a></div>
        <div class="sidebar-primary-item">

 <script>
 document.write(`
   <button class="btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script></div>
        <div class="sidebar-primary-item"><nav class="bd-links bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="index.html">
                    The Debugging Book
                </a>
            </li>
        </ul>
        <p aria-level="2" class="caption" role="heading"><span class="caption-text">Introduction</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="Tours.html">Sitemap</a></li>
<li class="toctree-l1"><a class="reference internal" href="Intro_Debugging.html">Introduction to Debugging</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Observing Executions</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="Tracer.html">Tracing Executions</a></li>
<li class="toctree-l1"><a class="reference internal" href="Debugger.html">How Debuggers Work</a></li>
<li class="toctree-l1"><a class="reference internal" href="Assertions.html">Asserting Expectations</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Flows and Dependencies</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="Slicer.html">Tracking Failure Origins</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Reducing Failure Causes</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="DeltaDebugger.html">Reducing Failure-Inducing Inputs</a></li>
<li class="toctree-l1"><a class="reference internal" href="ChangeDebugger.html">Isolating Failure-Inducing Changes</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Abstracting Failures</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="StatisticalDebugger.html">Statistical Debugging</a></li>
<li class="toctree-l1"><a class="reference internal" href="DynamicInvariants.html">Mining Function Specifications</a></li>
<li class="toctree-l1"><a class="reference internal" href="DDSetDebugger.html">Generalizing Failure Circumstances</a></li>
<li class="toctree-l1"><a class="reference internal" href="Alhazen.html">Learning from Failures</a></li>
<li class="toctree-l1"><a class="reference internal" href="PerformanceDebugger.html">Debugging Performance Issues</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Automatic Repair</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="Repairer.html">Repairing Code Automatically</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Debugging in the Large</span></p>
<ul class="current nav bd-sidenav">
<li class="toctree-l1 current active"><a class="current reference internal" href="#">Tracking Bugs</a></li>
<li class="toctree-l1"><a class="reference internal" href="ChangeCounter.html">Where the Bugs are</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Appendices</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="ExpectError.html">Error Handling</a></li>
<li class="toctree-l1"><a class="reference internal" href="Timer.html">Timer</a></li>
<li class="toctree-l1"><a class="reference internal" href="Timeout.html">Timeout</a></li>
<li class="toctree-l1"><a class="reference internal" href="ClassDiagram.html">Class Diagrams</a></li>
<li class="toctree-l1"><a class="reference internal" href="StackInspector.html">Inspecting Call Stacks</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">About This Book</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="ReleaseNotes.html">Release Notes for The Debugging Book</a></li>
<li class="toctree-l1"><a class="reference internal" href="Importing.html">Downloads and Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="Guide_for_Authors.html">Guide for Authors</a></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><button class="sidebar-toggle primary-toggle btn btn-sm" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</button></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-launch-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Launch interactive content">
    <i class="fas fa-rocket"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://mybinder.org/v2/gh/uds-se/debuggingbook/master?urlpath=tree/docs/notebooks/Tracking.ipynb" target="_blank"
   class="btn btn-sm dropdown-item"
   title="Launch on Binder"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  
    <img alt="Binder logo" src="_static/images/logo_binder.svg">
  </span>
<span class="btn__text-container">Binder</span>
</a>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-source-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Source repositories">
    <i class="fab fa-github"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://github.com/uds-se/debuggingbook" target="_blank"
   class="btn btn-sm btn-source-repository-button dropdown-item"
   title="Source repository"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="btn__text-container">Repository</span>
</a>
</li>
      
      
      
      
      <li><a href="https://github.com/uds-se/debuggingbook/issues/new?title=Issue%20on%20page%20%2FTracking.html&body=Your%20issue%20content%20here." target="_blank"
   class="btn btn-sm btn-source-issues-button dropdown-item"
   title="Open an issue"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="btn__text-container">Open issue</span>
</a>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
    <li><a href="../code/Tracking.py" target="_blank"
       class="btn btn-sm btn-download-source-button dropdown-item"
       title="Download Python code"
       data-bs-placement="left" data-bs-toggle="tooltip"
    >
  

    <span class="btn__icon-container">
      <i class="fas fa-file"></i>
      </span>
    <span class="btn__text-container">.py</span>
    </a>
    </li>
    
      
      
      
      <li><a href="_sources/Tracking.ipynb" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download notebook"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.ipynb</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  
    <li><a href="Importing.html" target="_blank"
       class="btn btn-sm btn-download-source-button dropdown-item"
       title="All downloads"
       data-bs-placement="left" data-bs-toggle="tooltip"
    >
  

    <span class="btn__icon-container">
      <i class="fas fa-file"></i>
      </span>
    <span class="btn__text-container">All downloads</span>
    </a>
    </li>
    </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<script>
document.write(`
  <button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="theme-switch fa-solid fa-sun fa-lg" data-mode="light"></i>
    <i class="theme-switch fa-solid fa-moon fa-lg" data-mode="dark"></i>
    <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"></i>
  </button>
`);
</script>


<script>
document.write(`
  <button class="btn btn-sm pst-navbar-icon search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
  </button>
`);
</script>
<button class="sidebar-toggle secondary-toggle btn btn-sm" title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</button>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>Tracking Bugs</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#synopsis">Synopsis</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#reporting-issues">Reporting Issues</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#what-goes-in-a-bug-report">What Goes in a Bug Report?</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#steps-to-reproduce-83">Steps to Reproduce (83%)</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#stack-traces-57">Stack Traces (57%)</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#test-cases-51">Test Cases (51%)</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#observed-behavior-33">Observed Behavior (33%)</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#screenshots-26">Screenshots (26%)</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#expected-behavior-22">Expected Behavior (22%)</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#configuration-information-12">Configuration Information (&lt; 12%)</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#reporting-crashes-automatically">Reporting Crashes Automatically</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#effective-issue-reporting">Effective Issue Reporting</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#an-issue-tracker">An Issue Tracker</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#excursion-setting-up-redmine">Excursion: Setting up Redmine</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#end-of-excursion">End of Excursion</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#excursion-starting-redmine">Excursion: Starting Redmine</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id1">End of Excursion</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#excursion-remote-control-with-selenium">Excursion: Remote Control with Selenium</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id2">End of Excursion</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#excursion-screenshots-with-drop-shadows">Excursion: Screenshots with Drop Shadows</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id3">End of Excursion</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#excursion-first-registration-at-redmine">Excursion: First Registration at Redmine</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id4">End of Excursion</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#excursion-creating-a-project">Excursion: Creating a Project</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id5">End of Excursion</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#reporting-an-issue">Reporting an Issue</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#excursion-adding-some-more-issue-reports">Excursion: Adding Some More Issue Reports</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id6">End of Excursion</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#managing-issues">Managing Issues</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#assigning-priorities">Assigning Priorities</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#assigning-issues">Assigning Issues</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#resolving-issues">Resolving Issues</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#the-life-cycle-of-an-issue">The Life Cycle of an Issue</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#resolutions">Resolutions</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#fixed">FIXED</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#invalid">INVALID</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#wontfix">WONTFIX</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#duplicate">DUPLICATE</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#worksforme">WORKSFORME</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#an-issue-life-cycle">An Issue Life Cycle</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#lessons-learned">Lessons Learned</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#next-steps">Next Steps</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#background">Background</a></li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section class="tex2jax_ignore mathjax_ignore" id="tracking-bugs">
<h1>Tracking Bugs<a class="headerlink" href="#tracking-bugs" title="Link to this heading">#</a></h1>
<p>So far, we have assumed that failures would be discovered and fixed by a single programmer during development. But what if the user who discovers a bug is different from the developer who eventually fixes it? In this case, users have to <em>report</em> bugs, and one needs to ensure that reported bugs are systematically <em>tracked</em>. This is the job of dedicated <em>bug tracking systems</em>, which we will discuss (and demo) in this chapter.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">bookutils</span><span class="w"> </span><span class="kn">import</span> <span class="n">YouTubeVideo</span>
<span class="n">YouTubeVideo</span><span class="p">(</span><span class="s2">&quot;bJzHYzvxHm8&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html">
        <iframe
            width="640"
            height="360"
            src="https://www.youtube-nocookie.com/embed/bJzHYzvxHm8"
            frameborder="0"
            allowfullscreen
            
        ></iframe>
        </div></div>
</div>
<p><strong>Prerequisites</strong></p>
<ul class="simple">
<li><p>You should have read the <a class="reference internal" href="Intro_Debugging.html"><span class="std std-doc">Introduction to Debugging</span></a>.</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">bookutils.setup</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">Intro_Debugging</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">os</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">sys</span>
</pre></div>
</div>
</div>
</div>
<section id="synopsis">
<h2>Synopsis<a class="headerlink" href="#synopsis" title="Link to this heading">#</a></h2>
<p>To <a class="reference internal" href="Importing.html"><span class="std std-doc">use the code provided in this chapter</span></a>, write</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">debuggingbook.Tracking</span><span class="w"> </span><span class="kn">import</span> <span class="o">&lt;</span><span class="n">identifier</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>and then make use of the following features.</p>
<p><strong>Note</strong>: The examples in this section only work after the rest of the cells have been executed.</p>
<p>This chapter provides no functionality that could be used by third-party code.</p>
</section>
<section id="reporting-issues">
<h2>Reporting Issues<a class="headerlink" href="#reporting-issues" title="Link to this heading">#</a></h2>
<p>So far, we have always assumed an environment in which software failures would be discovered by the very developers responsible for the code – that is, failures discovered (and fixed) during development. However, failures can also be discovered by third parties, such as</p>
<ul class="simple">
<li><p><em>Testers</em> whose job it is to test the code of developers</p></li>
<li><p>Other <em>developers</em> using the code</p></li>
<li><p><em>Users</em> running the code as it is in production</p></li>
</ul>
<p>In all these cases, developers need to be <em>informed</em> about the fact that the program failed; if they won’t know that a bug exists, it will be hard to fix it. This means that we have to set up mechanisms for <em>reporting bugs</em> – manual ones and/or automated ones.</p>
<section id="what-goes-in-a-bug-report">
<h3>What Goes in a Bug Report?<a class="headerlink" href="#what-goes-in-a-bug-report" title="Link to this heading">#</a></h3>
<p>Let us start with the information a developer requires to <em>fix</em> a bug. In a 2008 study \cite{Bettenburg2008}, Bettenburg et al. asked 872 developers from the Apache, Eclipse, and Mozilla projects to complete a survey on the most important information they need. From top to bottom, these were as follows:</p>
<section id="steps-to-reproduce-83">
<h4>Steps to Reproduce (83%)<a class="headerlink" href="#steps-to-reproduce-83" title="Link to this heading">#</a></h4>
<p>This is a list of steps by which the failure would be reproduced. For instance:</p>
<blockquote>
<div><ol class="arabic simple">
<li><p>I started the program using <code class="docutils literal notranslate"><span class="pre">$</span> <span class="pre">python</span> <span class="pre">Debugger.py</span> <span class="pre">my_code.py</span></code>.</p></li>
<li><p>Then, at the <code class="docutils literal notranslate"><span class="pre">(debugger)</span></code> prompt, I entered <code class="docutils literal notranslate"><span class="pre">run</span></code> and pressed the <kbd>ENTER</kbd> key.</p></li>
</ol>
</div></blockquote>
<p>The easier it will be for the developer to reproduce the bug, the higher the chances it will be effectively fixed. <a class="reference internal" href="DeltaDebugger.html"><span class="std std-doc">Reducing the steps to those relevant to reproduce the bug</span></a> can be helpful. But at the same time, the main problem experienced by developers as it comes to bug reports is <em>incomplete information</em>, and this especially applies to the steps to reproduce.</p>
</section>
<section id="stack-traces-57">
<h4>Stack Traces (57%)<a class="headerlink" href="#stack-traces-57" title="Link to this heading">#</a></h4>
<p>These give hints on which parts of the code were active at the moment the failure occurred.</p>
<blockquote>
<div><p>I got this stack trace:</p>
</div></blockquote>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">Traceback</span> <span class="p">(</span><span class="n">most</span> <span class="n">recent</span> <span class="n">call</span> <span class="n">last</span><span class="p">):</span>
  <span class="n">File</span> <span class="s2">&quot;Debugger.py&quot;</span><span class="p">,</span> <span class="n">line</span> <span class="mi">2</span><span class="p">,</span> <span class="ow">in</span> <span class="o">&lt;</span><span class="n">module</span><span class="o">&gt;</span>
    <span class="n">handle_command</span><span class="p">(</span><span class="s2">&quot;run&quot;</span><span class="p">)</span>
  <span class="n">File</span> <span class="s2">&quot;Debugger.py&quot;</span><span class="p">,</span> <span class="n">line</span> <span class="mi">3</span><span class="p">,</span> <span class="ow">in</span> <span class="n">handle_command</span>
    <span class="n">scope</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="s2">&quot; in &quot;</span><span class="p">)</span>
<span class="ne">ValueError</span><span class="p">:</span> <span class="n">substring</span> <span class="ow">not</span> <span class="n">found</span> <span class="p">(</span><span class="n">expected</span><span class="p">)</span>
</pre></div>
</div>
<p>Even though stack traces are useful, they are seldom reported by regular users, as they are difficult to obtain (or to find if included in log files). Automated crash reports (see below), however, frequently include them.</p>
</section>
<section id="test-cases-51">
<h4>Test Cases (51%)<a class="headerlink" href="#test-cases-51" title="Link to this heading">#</a></h4>
<p>Test cases that reproduce the bug are also seen as important:</p>
<blockquote>
<div><p>I can reproduce the bug using the following code:</p>
</div></blockquote>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">Debugger</span>

<span class="n">Debugger</span><span class="o">.</span><span class="n">handle_command</span><span class="p">(</span><span class="s2">&quot;run&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>Non-developers hardly ever report test cases.</p>
</section>
<section id="observed-behavior-33">
<h4>Observed Behavior (33%)<a class="headerlink" href="#observed-behavior-33" title="Link to this heading">#</a></h4>
<p>What the bug reporter observed as a failure.</p>
<blockquote>
<div><p>The program crashed with a <code class="docutils literal notranslate"><span class="pre">ValueError</span></code>.</p>
</div></blockquote>
<p>In many cases, this mimics the stack trace or the steps to reproduce the bug.</p>
</section>
<section id="screenshots-26">
<h4>Screenshots (26%)<a class="headerlink" href="#screenshots-26" title="Link to this heading">#</a></h4>
<p>Screenshots can further illustrate the failure.</p>
<blockquote>
<div><p>Here is a screenshot of the <code class="docutils literal notranslate"><span class="pre">Debugger</span></code> failing in Jupyter.</p>
</div></blockquote>
<p>Screenshots are helpful for certain bugs, such as GUI errors.</p>
</section>
<section id="expected-behavior-22">
<h4>Expected Behavior (22%)<a class="headerlink" href="#expected-behavior-22" title="Link to this heading">#</a></h4>
<p>What the bug reporter expected instead.</p>
<blockquote>
<div><p>I expected the program not to crash.</p>
</div></blockquote>
</section>
<section id="configuration-information-12">
<h4>Configuration Information (&lt; 12%)<a class="headerlink" href="#configuration-information-12" title="Link to this heading">#</a></h4>
<p>Perhaps surprisingly, the information that was seen as <em>least</em> relevant for developers was:</p>
<ul class="simple">
<li><p>Version (12%)</p></li>
<li><p>Build information (8%)</p></li>
<li><p>Product (5%)</p></li>
<li><p>Operating system (4%)</p></li>
<li><p>Component (3%)</p></li>
<li><p>Hardware (0%)</p></li>
</ul>
<p>The relative low importance of these fields may be surprising as entering them is usually mandated in bug report forms. However, in \cite{Bettenburg2008}, developers stated that</p>
<blockquote>
<div><p>[Operating System] fields are rarely needed as most [of] our bugs are usually found on all platforms.</p>
</div></blockquote>
<p>This not meant to be read as these fields being totally irrelevant, as, of course, there can be bugs that occur only on specific platforms. Also, if a bug is reported for an older version, but is known to be fixed in a more current version, a simple resolution would be to ask the user to upgrade to the fixed version.</p>
</section>
</section>
<section id="reporting-crashes-automatically">
<h3>Reporting Crashes Automatically<a class="headerlink" href="#reporting-crashes-automatically" title="Link to this heading">#</a></h3>
<p>If a program crashes, it can be a good idea to have it automatically report the failure to developers. A common practice is to have a crashing program show a <em>bug report dialog</em> allowing the user to report the crash to the vendor. The user is typically asked to provide additional details on how the failure came to be, and the crash report would be sent directly to the vendor’s database:</p>
<p><img alt="" src="https://upload.wikimedia.org/wikipedia/commons/b/b0/Screenshot-Bug_Buddy.png" /></p>
<p>The automatic report typically includes a <em>stack trace</em> and <em>configuration information</em>. These two do not reveal too many sensitive details about the user, yet already can help a lot in fixing a bug. In the interest of transparency, the user should be able to inspect all information sent to the vendor.</p>
<p>Besides stack traces and configuration information, such <em>crash reporters</em> could, of course, collect much more - say the data the program operated on, logs, recorded steps to reproduce, or automatically recorded screenshots. However, all of these will likely include sensitive information; and despite their potential usefulness, it is typically better to not collect them in the first place.</p>
</section>
<section id="effective-issue-reporting">
<h3>Effective Issue Reporting<a class="headerlink" href="#effective-issue-reporting" title="Link to this heading">#</a></h3>
<p>When writing an issue report, it is important to look at it from <em>the developer’s perspective</em>. Developers not only require information on how to reproduce the bug; they also want to work <em>effectively</em> and <em>efficiently</em>. The following aspects will all help developers with that:</p>
<ul class="simple">
<li><p><strong>Have a concise summary</strong>. A good summary should <em>quickly</em> and <em>uniquely</em> identify a bug. Make it easy to understand such that the reader can know if the bug has been reported and/or fixed.</p></li>
<li><p><strong>Be clear and concise</strong>. Provide necessary information (as shown above) and avoid any extras. Use meaningful sentences and simple words. Structure the report into enumerations and bullet lists.</p></li>
<li><p><strong>Do not assume context</strong>. Make no assumption that the developer knows all about your bug. Find out whether similar issues have been reported before and reference them.</p></li>
<li><p><strong>Avoid commanding tones</strong>. Developers enjoy autonomy in their work, and coming across as too authoritative hurts morale.</p></li>
<li><p><strong>Avoid sarcasm</strong>. Same as above. If you think you can get a volunteer to fix a bug in an open source program for you with sarcasm or commands – good luck with that.</p></li>
<li><p><strong>Do not assume mistakes</strong>. Do not assume some developer (or anyone) has made a mistake. In many cases, issues can be resolved on your side.</p></li>
<li><p><strong>One issue per report</strong>. If you have multiple issues, split them in multiple reports; this makes it easier to process them.</p></li>
</ul>
</section>
</section>
<section id="an-issue-tracker">
<h2>An Issue Tracker<a class="headerlink" href="#an-issue-tracker" title="Link to this heading">#</a></h2>
<p>At the developer’s end, all issues reported need to be <em>tracked</em> – that is, they have to be <em>registered</em>, they have to be <em>checked</em>, and of course, they have to be <em>addressed</em>. This process takes place via dedicated database systems, so-called <em>bug tracking systems</em>.</p>
<p>The purposes of an issue tracking system include</p>
<ul class="simple">
<li><p>to collect and store all issue reports;</p></li>
<li><p>to check the status of issues at all times; and</p></li>
<li><p>to organize the debugging and development process.</p></li>
</ul>
<p>Let us illustrate how these steps work, using the popular <code class="docutils literal notranslate"><span class="pre">Redmine</span></code> issue tracking system.</p>
<section id="excursion-setting-up-redmine">
<h3>Excursion: Setting up Redmine<a class="headerlink" href="#excursion-setting-up-redmine" title="Link to this heading">#</a></h3>
<p>To install Redmine, we followed the instructions at <a class="reference external" href="https://gist.github.com/johnjohndoe/2763243">https://gist.github.com/johnjohndoe/2763243</a>.
These final steps initialize the database:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">subprocess</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">os</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">sys</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">with_ruby</span><span class="p">(</span><span class="n">cmd</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">inp</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">timeout</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">30</span><span class="p">,</span> <span class="n">show_stdout</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;$ </span><span class="si">{</span><span class="n">cmd</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="n">shell</span> <span class="o">=</span> <span class="n">subprocess</span><span class="o">.</span><span class="n">Popen</span><span class="p">([</span><span class="s1">&#39;/bin/sh&#39;</span><span class="p">,</span> <span class="s1">&#39;-c&#39;</span><span class="p">,</span>
        <span class="sa">f</span><span class="s1">&#39;&#39;&#39;rvm_redmine=$HOME/.rvm/gems/ruby-2.7.2@redmine; </span><span class="se">\</span>
<span class="s1">rvm_global=$HOME/.rvm/gems/ruby-2.7.2@global; </span><span class="se">\</span>
<span class="s1">export GEM_PATH=$rvm_redmine:$rvm_global; </span><span class="se">\</span>
<span class="s1">export PATH=$rvm_redmine/bin:$rvm_global/bin:$HOME/.rvm/rubies/ruby-2.7.2/bin:$HOME/.rvm/bin:$PATH; </span><span class="se">\</span>
<span class="s1">cd $HOME/lib/redmine &amp;&amp; </span><span class="si">{</span><span class="n">cmd</span><span class="si">}</span><span class="s1">&#39;&#39;&#39;</span><span class="p">],</span>
                             <span class="n">stdin</span><span class="o">=</span><span class="n">subprocess</span><span class="o">.</span><span class="n">PIPE</span><span class="p">,</span>
                             <span class="n">stdout</span><span class="o">=</span><span class="n">subprocess</span><span class="o">.</span><span class="n">PIPE</span><span class="p">,</span>
                             <span class="n">stderr</span><span class="o">=</span><span class="n">subprocess</span><span class="o">.</span><span class="n">PIPE</span><span class="p">,</span>
                             <span class="n">universal_newlines</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">stdout_data</span><span class="p">,</span> <span class="n">stderr_data</span> <span class="o">=</span> <span class="n">shell</span><span class="o">.</span><span class="n">communicate</span><span class="p">(</span><span class="n">inp</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="n">timeout</span><span class="p">)</span>
    <span class="k">except</span> <span class="n">subprocess</span><span class="o">.</span><span class="n">TimeoutExpired</span><span class="p">:</span>
        <span class="n">shell</span><span class="o">.</span><span class="n">kill</span><span class="p">()</span>
<span class="c1">#         stdout_data, stderr_data = shell.communicate(inp)</span>
<span class="c1">#         if show_stdout:</span>
<span class="c1">#             print(stdout_data, end=&quot;&quot;)</span>
<span class="c1">#         print(stderr_data, file=sys.stderr, end=&quot;&quot;)</span>
        <span class="k">raise</span>

    <span class="nb">print</span><span class="p">(</span><span class="n">stderr_data</span><span class="p">,</span> <span class="n">file</span><span class="o">=</span><span class="n">sys</span><span class="o">.</span><span class="n">stderr</span><span class="p">,</span> <span class="n">end</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">show_stdout</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">stdout_data</span><span class="p">,</span> <span class="n">end</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">with_mysql</span><span class="p">(</span><span class="n">cmd</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">timeout</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">2</span><span class="p">,</span> <span class="n">show_stdout</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;sql&gt;</span><span class="si">{</span><span class="n">cmd</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="n">sql</span> <span class="o">=</span> <span class="n">subprocess</span><span class="o">.</span><span class="n">Popen</span><span class="p">([</span><span class="s2">&quot;mysql&quot;</span><span class="p">,</span> <span class="s2">&quot;-u&quot;</span><span class="p">,</span> <span class="s2">&quot;root&quot;</span><span class="p">,</span>
                           <span class="s2">&quot;--default-character-set=utf8mb4&quot;</span><span class="p">],</span>
                           <span class="n">stdin</span><span class="o">=</span><span class="n">subprocess</span><span class="o">.</span><span class="n">PIPE</span><span class="p">,</span>
                           <span class="n">stdout</span><span class="o">=</span><span class="n">subprocess</span><span class="o">.</span><span class="n">PIPE</span><span class="p">,</span>
                           <span class="n">stderr</span><span class="o">=</span><span class="n">subprocess</span><span class="o">.</span><span class="n">PIPE</span><span class="p">,</span>
                           <span class="n">universal_newlines</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">stdout_data</span><span class="p">,</span> <span class="n">stderr_data</span> <span class="o">=</span> <span class="n">sql</span><span class="o">.</span><span class="n">communicate</span><span class="p">(</span><span class="n">cmd</span> <span class="o">+</span> <span class="s1">&#39;;&#39;</span><span class="p">,</span>
                                                   <span class="n">timeout</span><span class="o">=</span><span class="n">timeout</span><span class="p">)</span>
    <span class="k">except</span> <span class="n">subprocess</span><span class="o">.</span><span class="n">TimeoutExpired</span><span class="p">:</span>
        <span class="n">sql</span><span class="o">.</span><span class="n">kill</span><span class="p">()</span>
<span class="c1">#         stdout_data, stderr_data = sql.communicate(inp)</span>
<span class="c1">#         if show_stdout:</span>
<span class="c1">#             print(stdout_data, end=&quot;&quot;)</span>
<span class="c1">#         print(stderr_data, file=sys.stderr, end=&quot;&quot;)</span>
        <span class="k">raise</span>

    <span class="nb">print</span><span class="p">(</span><span class="n">stderr_data</span><span class="p">,</span> <span class="n">file</span><span class="o">=</span><span class="n">sys</span><span class="o">.</span><span class="n">stderr</span><span class="p">,</span> <span class="n">end</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">show_stdout</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">stdout_data</span><span class="p">,</span> <span class="n">end</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">with_ruby</span><span class="p">(</span><span class="s2">&quot;bundle config set without development test&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>$ bundle config set without development test
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">with_ruby</span><span class="p">(</span><span class="s2">&quot;bundle install&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>$ bundle install
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>The dependency tzinfo-data (&gt;= 0) will be unused by any of the platforms Bundler is installing for. Bundler is installing for ruby but the dependency is only for x86-mingw32, x64-mingw32, x86-mswin32. To add those platforms to the bundle, run `bundle lock --add-platform x86-mingw32 x64-mingw32 x86-mswin32`.
The dependency ffi (&gt;= 0) will be unused by any of the platforms Bundler is installing for. Bundler is installing for ruby but the dependency is only for x86-mingw32, x64-mingw32, x86-mswin32. To add those platforms to the bundle, run `bundle lock --add-platform x86-mingw32 x64-mingw32 x86-mswin32`.
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">with_ruby</span><span class="p">(</span><span class="s2">&quot;pkill sql; sleep 5&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>$ pkill sql; sleep 5
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">try</span><span class="p">:</span>
    <span class="n">with_ruby</span><span class="p">(</span><span class="s2">&quot;mysql.server start&quot;</span><span class="p">,</span> <span class="n">show_stdout</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="k">except</span> <span class="n">subprocess</span><span class="o">.</span><span class="n">TimeoutExpired</span><span class="p">:</span>
    <span class="k">pass</span>  <span class="c1"># Can actually start without producing output</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>$ mysql.server start
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">with_mysql</span><span class="p">(</span><span class="s2">&quot;drop database redmine&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>sql&gt;drop database redmine
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">with_mysql</span><span class="p">(</span><span class="s2">&quot;drop user &#39;redmine&#39;@&#39;localhost&#39;&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>sql&gt;drop user &#39;redmine&#39;@&#39;localhost&#39;
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">with_mysql</span><span class="p">(</span><span class="s2">&quot;create database redmine character set utf8&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>sql&gt;create database redmine character set utf8
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">with_mysql</span><span class="p">(</span><span class="s2">&quot;create user &#39;redmine&#39;@&#39;localhost&#39; identified by &#39;my_password&#39;&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>sql&gt;create user &#39;redmine&#39;@&#39;localhost&#39; identified by &#39;my_password&#39;
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">with_mysql</span><span class="p">(</span><span class="s2">&quot;grant all privileges on redmine.* to &#39;redmine&#39;@&#39;localhost&#39;&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>sql&gt;grant all privileges on redmine.* to &#39;redmine&#39;@&#39;localhost&#39;
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">with_ruby</span><span class="p">(</span><span class="s2">&quot;bundle exec rake generate_secret_token&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>$ bundle exec rake generate_secret_token
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">with_ruby</span><span class="p">(</span><span class="s2">&quot;RAILS_ENV=production bundle exec rake db:migrate&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>$ RAILS_ENV=production bundle exec rake db:migrate
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">with_ruby</span><span class="p">(</span><span class="s2">&quot;RAILS_ENV=production bundle exec rake redmine:load_default_data&quot;</span><span class="p">,</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>$ RAILS_ENV=production bundle exec rake redmine:load_default_data
</pre></div>
</div>
</div>
</div>
</section>
<section id="end-of-excursion">
<h3>End of Excursion<a class="headerlink" href="#end-of-excursion" title="Link to this heading">#</a></h3>
</section>
<section id="excursion-starting-redmine">
<h3>Excursion: Starting Redmine<a class="headerlink" href="#excursion-starting-redmine" title="Link to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">os</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">time</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">multiprocess</span><span class="w"> </span><span class="kn">import</span> <span class="n">Process</span>  <span class="c1"># type: ignore</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">run_redmine</span><span class="p">(</span><span class="n">port</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="n">with_ruby</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;exec rails s -e production -p </span><span class="si">{</span><span class="n">port</span><span class="si">}</span><span class="s1"> &gt; redmine.log 2&gt;&amp;1&#39;</span><span class="p">,</span>
              <span class="n">timeout</span><span class="o">=</span><span class="mi">3600</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">start_redmine</span><span class="p">(</span><span class="n">port</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">3000</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Tuple</span><span class="p">[</span><span class="n">Process</span><span class="p">,</span> <span class="nb">str</span><span class="p">]:</span>
    <span class="n">process</span> <span class="o">=</span> <span class="n">Process</span><span class="p">(</span><span class="n">target</span><span class="o">=</span><span class="n">run_redmine</span><span class="p">,</span> <span class="n">args</span><span class="o">=</span><span class="p">(</span><span class="n">port</span><span class="p">,))</span>
    <span class="n">process</span><span class="o">.</span><span class="n">start</span><span class="p">()</span>
    <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>

    <span class="n">url</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;http://localhost:</span><span class="si">{</span><span class="n">port</span><span class="si">}</span><span class="s2">&quot;</span>
    <span class="k">return</span> <span class="n">process</span><span class="p">,</span> <span class="n">url</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">redmine_process</span><span class="p">,</span> <span class="n">redmine_url</span> <span class="o">=</span> <span class="n">start_redmine</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>$ exec rails s -e production -p 3000 &gt; redmine.log 2&gt;&amp;1
</pre></div>
</div>
</div>
</div>
</section>
<section id="id1">
<h3>End of Excursion<a class="headerlink" href="#id1" title="Link to this heading">#</a></h3>
</section>
<section id="excursion-remote-control-with-selenium">
<h3>Excursion: Remote Control with Selenium<a class="headerlink" href="#excursion-remote-control-with-selenium" title="Link to this heading">#</a></h3>
<p>To produce this book, we use Selenium to interact with user interfaces and obtain screenshots.</p>
<p><a class="reference external" href="https://www.seleniumhq.org">Selenium</a> is a framework for testing Web applications by <em>automating interaction in the browser</em>.  Selenium provides an API that allows one to launch a Web browser, query the state of the user interface, and interact with individual user interface elements.  The Selenium API is available in a number of languages; we use the <a class="reference external" href="https://selenium-python.readthedocs.io/index.html">Selenium API for Python</a>.</p>
<p>A Selenium <em>web driver</em> is the interface between a program and a browser controlled by the program.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">selenium</span><span class="w"> </span><span class="kn">import</span> <span class="n">webdriver</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">selenium.webdriver.common.keys</span><span class="w"> </span><span class="kn">import</span> <span class="n">Keys</span>
</pre></div>
</div>
</div>
</div>
<p>The following code starts a Firefox browser in the background, which we then control through the web driver.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">BROWSER</span> <span class="o">=</span> <span class="s1">&#39;firefox&#39;</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">with_ruby</span><span class="p">(</span><span class="s2">&quot;pkill Firefox.app firefox-bin&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>$ pkill Firefox.app firefox-bin
</pre></div>
</div>
</div>
</div>
<p><strong>Note:</strong> If you don’t have Firefox installed, you can also set <code class="docutils literal notranslate"><span class="pre">BROWSER</span></code> to <code class="docutils literal notranslate"><span class="pre">'chrome'</span></code> to use Google Chrome instead.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># BROWSER = &#39;chrome&#39;</span>
</pre></div>
</div>
</div>
</div>
<p>When running this outside of Jupyter notebooks, the browser is <em>headless</em>, meaning that it does not show on the screen.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">bookutils</span><span class="w"> </span><span class="kn">import</span> <span class="n">rich_output</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># HEADLESS = not rich_output()</span>
<span class="n">HEADLESS</span> <span class="o">=</span> <span class="kc">True</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">selenium.webdriver.remote.webdriver</span><span class="w"> </span><span class="kn">import</span> <span class="n">WebDriver</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">selenium.webdriver.common.by</span><span class="w"> </span><span class="kn">import</span> <span class="n">By</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">start_webdriver</span><span class="p">(</span><span class="n">browser</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">BROWSER</span><span class="p">,</span> <span class="n">headless</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="n">HEADLESS</span><span class="p">,</span>
                    <span class="n">zoom</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mf">4.0</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">WebDriver</span><span class="p">:</span>
    <span class="k">if</span> <span class="n">browser</span> <span class="o">==</span> <span class="s1">&#39;firefox&#39;</span><span class="p">:</span>
        <span class="n">options</span> <span class="o">=</span> <span class="n">webdriver</span><span class="o">.</span><span class="n">FirefoxOptions</span><span class="p">()</span>
    <span class="k">if</span> <span class="n">browser</span> <span class="o">==</span> <span class="s1">&#39;chrome&#39;</span><span class="p">:</span>
        <span class="n">options</span> <span class="o">=</span> <span class="n">webdriver</span><span class="o">.</span><span class="n">ChromeOptions</span><span class="p">()</span>  <span class="c1"># type: ignore</span>

    <span class="k">if</span> <span class="n">headless</span> <span class="ow">and</span> <span class="n">browser</span> <span class="o">==</span> <span class="s1">&#39;chrome&#39;</span><span class="p">:</span>
        <span class="n">options</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span><span class="s1">&#39;headless&#39;</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">options</span><span class="o">.</span><span class="n">headless</span> <span class="o">=</span> <span class="n">headless</span>  <span class="c1"># type: ignore</span>

    <span class="c1"># Start the browser, and obtain a _web driver_ object such that we can interact with it.</span>
    <span class="k">if</span> <span class="n">browser</span> <span class="o">==</span> <span class="s1">&#39;firefox&#39;</span><span class="p">:</span>
        <span class="c1"># For firefox, set a higher resolution for our screenshots</span>
        <span class="n">options</span><span class="o">.</span><span class="n">set_preference</span><span class="p">(</span><span class="s1">&#39;layout.css.devPixelsPerPx&#39;</span><span class="p">,</span> <span class="nb">repr</span><span class="p">(</span><span class="n">zoom</span><span class="p">))</span>
        <span class="n">redmine_gui</span> <span class="o">=</span> <span class="n">webdriver</span><span class="o">.</span><span class="n">Firefox</span><span class="p">(</span><span class="n">options</span><span class="o">=</span><span class="n">options</span><span class="p">)</span>  <span class="c1"># type: ignore</span>

        <span class="c1"># We set the window size such that it fits</span>
        <span class="n">redmine_gui</span><span class="o">.</span><span class="n">set_window_size</span><span class="p">(</span><span class="mi">500</span><span class="p">,</span> <span class="mi">600</span><span class="p">)</span>  <span class="c1"># was 1024, 600</span>

    <span class="k">elif</span> <span class="n">browser</span> <span class="o">==</span> <span class="s1">&#39;chrome&#39;</span><span class="p">:</span>
        <span class="n">redmine_gui</span> <span class="o">=</span> <span class="n">webdriver</span><span class="o">.</span><span class="n">Chrome</span><span class="p">(</span><span class="n">options</span><span class="o">=</span><span class="n">options</span><span class="p">)</span>  <span class="c1"># type: ignore</span>
        <span class="n">redmine_gui</span><span class="o">.</span><span class="n">set_window_size</span><span class="p">(</span><span class="mi">1024</span><span class="p">,</span> <span class="mi">510</span> <span class="k">if</span> <span class="n">headless</span> <span class="k">else</span> <span class="mi">640</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">redmine_gui</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">redmine_gui</span> <span class="o">=</span> <span class="n">start_webdriver</span><span class="p">(</span><span class="n">browser</span><span class="o">=</span><span class="n">BROWSER</span><span class="p">,</span> <span class="n">headless</span><span class="o">=</span><span class="n">HEADLESS</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>/var/folders/n2/xd9445p97rb3xh7m1dfx8_4h0006ts/T/ipykernel_13707/676888690.py:11: DeprecationWarning: headless property is deprecated, instead use add_argument(&#39;-headless&#39;)
  options.headless = headless  # type: ignore
</pre></div>
</div>
</div>
</div>
<p>We can now interact with the browser programmatically.  First, we have it navigate to the URL of our Web server:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">redmine_gui</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">redmine_url</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>To see what the “headless” browser displays, we can obtain a screenshot.  We see that it actually displays the home page.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">IPython.display</span><span class="w"> </span><span class="kn">import</span> <span class="n">display</span><span class="p">,</span> <span class="n">Image</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">Image</span><span class="p">(</span><span class="n">redmine_gui</span><span class="o">.</span><span class="n">get_screenshot_as_png</span><span class="p">())</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/f2dcc0059a8b0ea5f38b55625c9b272f3f0101ec07efd20fbd515c87421498f9.png" src="_images/f2dcc0059a8b0ea5f38b55625c9b272f3f0101ec07efd20fbd515c87421498f9.png" />
</div>
</div>
</section>
<section id="id2">
<h3>End of Excursion<a class="headerlink" href="#id2" title="Link to this heading">#</a></h3>
</section>
<section id="excursion-screenshots-with-drop-shadows">
<h3>Excursion: Screenshots with Drop Shadows<a class="headerlink" href="#excursion-screenshots-with-drop-shadows" title="Link to this heading">#</a></h3>
<p>By default, our screenshots are flat. We add a drop shadow to make them look nicer.
With help from <a class="reference external" href="https://graphicdesign.stackexchange.com/questions/117272/how-to-add-drop-shadow-to-a-picture-via-cli">https://graphicdesign.stackexchange.com/questions/117272/how-to-add-drop-shadow-to-a-picture-via-cli</a></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">tempfile</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">drop_shadow</span><span class="p">(</span><span class="n">contents</span><span class="p">:</span> <span class="nb">bytes</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bytes</span><span class="p">:</span>
    <span class="k">with</span> <span class="n">tempfile</span><span class="o">.</span><span class="n">NamedTemporaryFile</span><span class="p">()</span> <span class="k">as</span> <span class="n">tmp</span><span class="p">:</span>
        <span class="n">tmp</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">contents</span><span class="p">)</span>
        <span class="n">convert</span> <span class="o">=</span> <span class="n">subprocess</span><span class="o">.</span><span class="n">Popen</span><span class="p">(</span>
            <span class="p">[</span><span class="s1">&#39;convert&#39;</span><span class="p">,</span> <span class="n">tmp</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
            <span class="s1">&#39;(&#39;</span><span class="p">,</span> <span class="s1">&#39;+clone&#39;</span><span class="p">,</span> <span class="s1">&#39;-background&#39;</span><span class="p">,</span> <span class="s1">&#39;black&#39;</span><span class="p">,</span> <span class="s1">&#39;-shadow&#39;</span><span class="p">,</span> <span class="s1">&#39;50x10+15+15&#39;</span><span class="p">,</span> <span class="s1">&#39;)&#39;</span><span class="p">,</span>
            <span class="s1">&#39;+swap&#39;</span><span class="p">,</span> <span class="s1">&#39;-background&#39;</span><span class="p">,</span> <span class="s1">&#39;none&#39;</span><span class="p">,</span> <span class="s1">&#39;-layers&#39;</span><span class="p">,</span> <span class="s1">&#39;merge&#39;</span><span class="p">,</span> <span class="s1">&#39;+repage&#39;</span><span class="p">,</span> <span class="s1">&#39;-&#39;</span><span class="p">],</span>
            <span class="n">stdout</span><span class="o">=</span><span class="n">subprocess</span><span class="o">.</span><span class="n">PIPE</span><span class="p">,</span> <span class="n">stderr</span><span class="o">=</span><span class="n">subprocess</span><span class="o">.</span><span class="n">PIPE</span><span class="p">)</span>
        <span class="n">stdout_data</span><span class="p">,</span> <span class="n">stderr_data</span> <span class="o">=</span> <span class="n">convert</span><span class="o">.</span><span class="n">communicate</span><span class="p">()</span>

    <span class="k">if</span> <span class="n">stderr_data</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">stderr_data</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s2">&quot;utf-8&quot;</span><span class="p">),</span> <span class="n">file</span><span class="o">=</span><span class="n">sys</span><span class="o">.</span><span class="n">stderr</span><span class="p">,</span> <span class="n">end</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">stdout_data</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">screenshot</span><span class="p">(</span><span class="n">driver</span><span class="p">:</span> <span class="n">WebDriver</span><span class="p">,</span> <span class="n">width</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">500</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Any</span><span class="p">:</span>
    <span class="k">return</span> <span class="n">Image</span><span class="p">(</span><span class="n">drop_shadow</span><span class="p">(</span><span class="n">redmine_gui</span><span class="o">.</span><span class="n">get_screenshot_as_png</span><span class="p">()),</span> <span class="n">width</span><span class="o">=</span><span class="n">width</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">screenshot</span><span class="p">(</span><span class="n">redmine_gui</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<a class="reference internal image-reference" href="_images/30e7ebed49f410a2bdfd75d9057645b9af645cd8511c598fe820383b9fac167e.png"><img alt="_images/30e7ebed49f410a2bdfd75d9057645b9af645cd8511c598fe820383b9fac167e.png" src="_images/30e7ebed49f410a2bdfd75d9057645b9af645cd8511c598fe820383b9fac167e.png" style="width: 500px;" />
</a>
</div>
</div>
</section>
<section id="id3">
<h3>End of Excursion<a class="headerlink" href="#id3" title="Link to this heading">#</a></h3>
</section>
<section id="excursion-first-registration-at-redmine">
<h3>Excursion: First Registration at Redmine<a class="headerlink" href="#excursion-first-registration-at-redmine" title="Link to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">redmine_gui</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">redmine_url</span> <span class="o">+</span> <span class="s1">&#39;/login&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">screenshot</span><span class="p">(</span><span class="n">redmine_gui</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<a class="reference internal image-reference" href="_images/80f49151ca45db05a79f2c58f5fbe7974324638a83710cfc9e3ece32b4c9ae64.png"><img alt="_images/80f49151ca45db05a79f2c58f5fbe7974324638a83710cfc9e3ece32b4c9ae64.png" src="_images/80f49151ca45db05a79f2c58f5fbe7974324638a83710cfc9e3ece32b4c9ae64.png" style="width: 500px;" />
</a>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">redmine_gui</span><span class="o">.</span><span class="n">find_element</span><span class="p">(</span><span class="n">By</span><span class="o">.</span><span class="n">ID</span><span class="p">,</span> <span class="s2">&quot;username&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">send_keys</span><span class="p">(</span><span class="s2">&quot;admin&quot;</span><span class="p">)</span>
<span class="n">redmine_gui</span><span class="o">.</span><span class="n">find_element</span><span class="p">(</span><span class="n">By</span><span class="o">.</span><span class="n">ID</span><span class="p">,</span> <span class="s2">&quot;password&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">send_keys</span><span class="p">(</span><span class="s2">&quot;admin&quot;</span><span class="p">)</span>
<span class="n">redmine_gui</span><span class="o">.</span><span class="n">find_element</span><span class="p">(</span><span class="n">By</span><span class="o">.</span><span class="n">NAME</span><span class="p">,</span> <span class="s2">&quot;login&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">click</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">if</span> <span class="n">redmine_gui</span><span class="o">.</span><span class="n">current_url</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s1">&#39;my/password&#39;</span><span class="p">):</span>
    <span class="n">redmine_gui</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">redmine_url</span> <span class="o">+</span> <span class="s1">&#39;/my/password&#39;</span><span class="p">)</span>
    <span class="n">redmine_gui</span><span class="o">.</span><span class="n">find_element</span><span class="p">(</span><span class="n">By</span><span class="o">.</span><span class="n">ID</span><span class="p">,</span> <span class="s2">&quot;password&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">send_keys</span><span class="p">(</span><span class="s2">&quot;admin&quot;</span><span class="p">)</span>
    <span class="n">redmine_gui</span><span class="o">.</span><span class="n">find_element</span><span class="p">(</span><span class="n">By</span><span class="o">.</span><span class="n">ID</span><span class="p">,</span> <span class="s2">&quot;new_password&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">send_keys</span><span class="p">(</span><span class="s2">&quot;admin001&quot;</span><span class="p">)</span>
    <span class="n">redmine_gui</span><span class="o">.</span><span class="n">find_element</span><span class="p">(</span><span class="n">By</span><span class="o">.</span><span class="n">ID</span><span class="p">,</span> <span class="s2">&quot;new_password_confirmation&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">send_keys</span><span class="p">(</span><span class="s2">&quot;admin001&quot;</span><span class="p">)</span>
    <span class="n">display</span><span class="p">(</span><span class="n">screenshot</span><span class="p">(</span><span class="n">redmine_gui</span><span class="p">))</span>
    <span class="n">redmine_gui</span><span class="o">.</span><span class="n">find_element</span><span class="p">(</span><span class="n">By</span><span class="o">.</span><span class="n">NAME</span><span class="p">,</span> <span class="s2">&quot;commit&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">click</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<a class="reference internal image-reference" href="_images/a7a8630399ba563a1427c686c73cffbff06b16dd08a25cb3c153a57cb95ceb91.png"><img alt="_images/a7a8630399ba563a1427c686c73cffbff06b16dd08a25cb3c153a57cb95ceb91.png" src="_images/a7a8630399ba563a1427c686c73cffbff06b16dd08a25cb3c153a57cb95ceb91.png" style="width: 500px;" />
</a>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">redmine_gui</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">redmine_url</span> <span class="o">+</span> <span class="s1">&#39;/logout&#39;</span><span class="p">)</span>
<span class="n">redmine_gui</span><span class="o">.</span><span class="n">find_element</span><span class="p">(</span><span class="n">By</span><span class="o">.</span><span class="n">NAME</span><span class="p">,</span> <span class="s2">&quot;commit&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">click</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="id4">
<h3>End of Excursion<a class="headerlink" href="#id4" title="Link to this heading">#</a></h3>
<p>This is what the <em>Redmine</em> tracker starts with:</p>
<p>After we login, we see our account:</p>
</section>
<section id="excursion-creating-a-project">
<h3>Excursion: Creating a Project<a class="headerlink" href="#excursion-creating-a-project" title="Link to this heading">#</a></h3>
<p>Let us check out the projects by clicking on “Projects”.</p>
<p>We can now enter a project name and a description.</p>
</section>
<section id="id5">
<h3>End of Excursion<a class="headerlink" href="#id5" title="Link to this heading">#</a></h3>
<p>We start with a list of projects.</p>
<p>Let us choose the (one) “debuggingbook” project.</p>
</section>
</section>
<section id="reporting-an-issue">
<h2>Reporting an Issue<a class="headerlink" href="#reporting-an-issue" title="Link to this heading">#</a></h2>
<p>The most basic task of a bug tracker is to <em>report</em> bugs. However, a bug tracker is a bit more general than just bugs – it can also track feature requests, support requests, and more. These are all summarized under the term “issue”.</p>
<p>Let us take the role of a bug reporter – pardon, an <em>issue</em> reporter – and report an issue. We can do this right from the <em>Redmine</em> menu.</p>
<p>Let’s give our bug a name:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">issue_title</span> <span class="o">=</span> <span class="s2">&quot;Does not render correctly on Nokia Communicator&quot;</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">issue_description</span> <span class="o">=</span> \
<span class="sd">&quot;&quot;&quot;The Debugging Book does not render correctly on the Nokia Communicator 9000.</span>

<span class="sd">Steps to reproduce:</span>
<span class="sd">1. On the Nokia, go to &quot;https://debuggingbook.org/&quot;</span>
<span class="sd">2. From the menu on top, select the chapter &quot;Tracking Origins&quot;.</span>
<span class="sd">3. Scroll down to a place where a graph is supposed to be shown.</span>
<span class="sd">4. Instead of the graph, only a blank space is displayed.</span>

<span class="sd">How to fix:</span>
<span class="sd">* The graphs seem to come as SVG elements, but the Nokia Communicator does not support SVG rendering. Render them as JPEGs instead.</span>
<span class="sd">&quot;&quot;&quot;</span>
</pre></div>
</div>
</div>
</div>
<p>Clicking on “Create” creates the new issue report.</p>
<p>Our bug has been assigned an <em>issue number</em> (#1 in that case). This issue number (also known as bug number, or problem report number) will be used to identify the specific issue from this point on in all communication between developers. Developers will know which issues they are working on; and in any change to the software, they will refer to the issue the change relates to.</p>
<p>Over time, issue databases can grow massively, especially for popular products with several users. As an example, consider the <a class="reference external" href="https://bugzilla.mozilla.org/">Mozilla <em>Bugzilla</em> issue tracker</a>, collecting issue reports for the Firefox browser and other Mozilla products.</p>
<p>Yes, it is that many! Look at the bug IDs in this recent screenshot from the Mozilla Bugzilla database:</p>
<p>Let us enter a few more reports into our issue tracker.</p>
<section id="excursion-adding-some-more-issue-reports">
<h3>Excursion: Adding Some More Issue Reports<a class="headerlink" href="#excursion-adding-some-more-issue-reports" title="Link to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">new_issue</span><span class="p">(</span><span class="n">issue_title</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">issue_description</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Any</span><span class="p">:</span>
    <span class="n">redmine_gui</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">redmine_url</span> <span class="o">+</span> <span class="s1">&#39;/issues/new&#39;</span><span class="p">)</span>

    <span class="n">redmine_gui</span><span class="o">.</span><span class="n">find_element</span><span class="p">(</span><span class="n">By</span><span class="o">.</span><span class="n">ID</span><span class="p">,</span> <span class="s1">&#39;issue_subject&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">send_keys</span><span class="p">(</span><span class="n">issue_title</span><span class="p">)</span>
    <span class="n">redmine_gui</span><span class="o">.</span><span class="n">find_element</span><span class="p">(</span><span class="n">By</span><span class="o">.</span><span class="n">ID</span><span class="p">,</span> <span class="s1">&#39;issue_description&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">send_keys</span><span class="p">(</span><span class="n">issue_description</span><span class="p">)</span>
    <span class="n">redmine_gui</span><span class="o">.</span><span class="n">find_element</span><span class="p">(</span><span class="n">By</span><span class="o">.</span><span class="n">NAME</span><span class="p">,</span> <span class="s1">&#39;commit&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">click</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">screenshot</span><span class="p">(</span><span class="n">redmine_gui</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">new_issue</span><span class="p">(</span><span class="s2">&quot;Missing a Chapter on Parallel Debugging&quot;</span><span class="p">,</span>
<span class="w">          </span><span class="sd">&quot;&quot;&quot;I am missing a chapter on (automatic) debugging of parallel and distributed systems,</span>
<span class="sd">including how to detect and repair data races, log message passing, and more.</span>
<span class="sd">In my experience, almost all programs are parallel today, so you are missing</span>
<span class="sd">an important subject.</span>
<span class="sd">&quot;&quot;&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<a class="reference internal image-reference" href="_images/27853a9f0e7e3ab5c1645a5f85f8fcd5b1f5a4defa58d2942c7a61cb9198c775.png"><img alt="_images/27853a9f0e7e3ab5c1645a5f85f8fcd5b1f5a4defa58d2942c7a61cb9198c775.png" src="_images/27853a9f0e7e3ab5c1645a5f85f8fcd5b1f5a4defa58d2942c7a61cb9198c775.png" style="width: 500px;" />
</a>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">new_issue</span><span class="p">(</span><span class="s2">&quot;Missing a PDF version&quot;</span><span class="p">,</span>
<span class="w">          </span><span class="sd">&quot;&quot;&quot;Your &#39;book&#39; does not provide a printed version. I think that printed books</span>

<span class="sd">* offer a more enjoyable experience for the reader</span>
<span class="sd">* allow me to annotate pages with my own remarks</span>
<span class="sd">* allow me to set dog-ear bookmatks</span>
<span class="sd">* allow me to show off what I&#39;m currently reading (do you have a cover, too?)</span>

<span class="sd">Please provide a printed version - or, at least, produce a PDF version</span>
<span class="sd">of the debugging book, and make it available for download, such that I can print it myself.</span>
<span class="sd">&quot;&quot;&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<a class="reference internal image-reference" href="_images/cf8a4a4ea40fe7fa2a407f74fa35e735194e1d971d21d2b6632690f4ed0bfb5a.png"><img alt="_images/cf8a4a4ea40fe7fa2a407f74fa35e735194e1d971d21d2b6632690f4ed0bfb5a.png" src="_images/cf8a4a4ea40fe7fa2a407f74fa35e735194e1d971d21d2b6632690f4ed0bfb5a.png" style="width: 500px;" />
</a>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">new_issue</span><span class="p">(</span><span class="s2">&quot;No PDF version&quot;</span><span class="p">,</span>
<span class="w">          </span><span class="sd">&quot;&quot;&quot;Can I have a printed version of your book? Please!&quot;&quot;&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<a class="reference internal image-reference" href="_images/92e4ff899500a47f953a70babe555807e239b06210452969be4ba436b896573d.png"><img alt="_images/92e4ff899500a47f953a70babe555807e239b06210452969be4ba436b896573d.png" src="_images/92e4ff899500a47f953a70babe555807e239b06210452969be4ba436b896573d.png" style="width: 500px;" />
</a>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">new_issue</span><span class="p">(</span><span class="s2">&quot;Does not work with Python 2.7 or earlier&quot;</span><span class="p">,</span>
<span class="w">          </span><span class="sd">&quot;&quot;&quot;I was deeply disappointed that your hew book requires Python 3.9 or later.</span>
<span class="sd">There are still several Python 2.x users out here (I, for one, cannot stand having to</span>
<span class="sd">type parentheses for every `print` statement), and I would love to run your code on</span>
<span class="sd">my Python 2.7 programs.</span>

<span class="sd">Would it be possible to backport the book&#39;s code such that it would run on Python 3.x</span>
<span class="sd">as well as Python 2.x? I would suggest that you add simple checks around your code</span>
<span class="sd">such as the following:</span>

<span class="sd">```</span>
<span class="sd">import sys</span>

<span class="sd">if sys.version_info.major &gt;= 3:</span>
<span class="sd">    print(&quot;The result is&quot;, x)</span>
<span class="sd">else: </span>
<span class="sd">    print &quot;The result is&quot;, x</span>
<span class="sd">```</span>

<span class="sd">As an alternative, rewrite the book in Python 2 and have it automatically translate to</span>
<span class="sd">Python 3. This way, you could address all Python lovers, not just Python 3 ones.</span>
<span class="sd">&quot;&quot;&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<a class="reference internal image-reference" href="_images/1aeaa7cebf015e9301b13602b6fa33dcb56d6dd7871b980d4855267e194c0cdb.png"><img alt="_images/1aeaa7cebf015e9301b13602b6fa33dcb56d6dd7871b980d4855267e194c0cdb.png" src="_images/1aeaa7cebf015e9301b13602b6fa33dcb56d6dd7871b980d4855267e194c0cdb.png" style="width: 500px;" />
</a>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">new_issue</span><span class="p">(</span><span class="s2">&quot;Support for C++&quot;</span><span class="p">,</span>
<span class="w">          </span><span class="sd">&quot;&quot;&quot;I had lots of fun with your &#39;debugging book&#39;. Yet, I was somewhat disappointed</span>
<span class="sd">to see that all code examples are in and for Python programs only. Is there a chance</span>
<span class="sd">to get them to work on a real programming language such as C or C++? This would also</span>
<span class="sd">open the way to discuss several new debugging techniques for bugs that occur in these</span>
<span class="sd">languages only. A chapter on C++ move semantics, and how to fix them, for instance,</span>
<span class="sd">would be highly appreciated.</span>
<span class="sd">&quot;&quot;&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<a class="reference internal image-reference" href="_images/1e17ec800d4284d67df4f5b5506391b556a8837c7c837c6a878bd2010ee4d8d9.png"><img alt="_images/1e17ec800d4284d67df4f5b5506391b556a8837c7c837c6a878bd2010ee4d8d9.png" src="_images/1e17ec800d4284d67df4f5b5506391b556a8837c7c837c6a878bd2010ee4d8d9.png" style="width: 500px;" />
</a>
</div>
</div>
</section>
<section id="id6">
<h3>End of Excursion<a class="headerlink" href="#id6" title="Link to this heading">#</a></h3>
</section>
</section>
<section id="managing-issues">
<h2>Managing Issues<a class="headerlink" href="#managing-issues" title="Link to this heading">#</a></h2>
<p>Let us now switch sides and take the view of a <em>developer</em> whose job it is to actually <em>handle</em> all these issues. When our developers log in, the first thing they see is that there are a number of new issues that are all “open” – that is, in need to be addressed. (For a typical developer, this may well be the first task of the day.)</p>
<p>Clicking on “View all issues” shows us all issues reported so far.</p>
<p>Let us do some bug <em>triaging</em> here. Bug report #2 is not a bug – it is a feature request. We invoke its “actions” pop-up menu and mark it as “Feature”.</p>
<p>The same applies to bugs #3 and #4 (missing PDF) and #6 (no support for C++). We mark them as such as well.</p>
<p>The fact that we marked these issues as “feature requests” does not mean that they will not be worked on – on the contrary, a feature requested by management can have an even higher priority than a bug. Right now, though, we will give our first priority to the bugs listed.</p>
</section>
<section id="assigning-priorities">
<h2>Assigning Priorities<a class="headerlink" href="#assigning-priorities" title="Link to this heading">#</a></h2>
<p>After we have decided the priority for individual bugs, we can make this decision explicit by assigning a <em>priority</em> to each bug. This allows our co-developers to see which things are the most pressing to work on.</p>
<p>Let us assume we have an important customer for whom fixing issue #1 is important. Through the context menu, we can assign issue #1 a priority of “Urgent”.</p>
<p>We see that issue #1 is now listed as urgent.</p>
<p>On top of priority, some issue trackers also allow assigning a <em>severity</em> to an issue, describing the impact of the bug:</p>
<ul class="simple">
<li><p><strong>Blocker</strong> (also known as <strong>Showstopper</strong>): Blocks development and/or testing, for instance by breaking build processes.</p></li>
<li><p><strong>Critical</strong>: Application crash. Loss of data.</p></li>
<li><p><strong>Major</strong>: Loss of function.</p></li>
<li><p><strong>Minor</strong>: Incomplete function.</p></li>
<li><p><strong>Trivial</strong>: Minor issues in user interfaces and documentation.</p></li>
<li><p><strong>Enhancement</strong>: Request of a new feature or an improvement in an existing one.</p></li>
</ul>
<p>The severity would be an important factor in determining the priority of an issue.</p>
</section>
<section id="assigning-issues">
<h2>Assigning Issues<a class="headerlink" href="#assigning-issues" title="Link to this heading">#</a></h2>
<p>So far, all the listed bugs are “unassigned”, which means that there is no developer who is currently working on them. Let us assign the “urgent” issue #1 to ourselves, such that we have something to do.</p>
<p>By choosing the Actions menu, clicking on <code class="docutils literal notranslate"><span class="pre">Assignee</span></code>, and then <code class="docutils literal notranslate"><span class="pre">&lt;&lt;</span> <span class="pre">me</span> <span class="pre">&gt;&gt;</span></code>, we can assign the issue to ourselves.</p>
<p>Of course, we could also go and assign the issue to other developers – depending on their competence and current workload. Very clearly, the ability to assign issues to individuals is a feature for managers.</p>
</section>
<section id="resolving-issues">
<h2>Resolving Issues<a class="headerlink" href="#resolving-issues" title="Link to this heading">#</a></h2>
<p>Let us switch perspectives again, and now take a <em>developer’s role</em> – that is, we now work on the issues assigned to us. We get these by clicking on “Issues assigned to me”:</p>
<p>By clicking on the issue number, we can see all details about the issue.</p>
<p>We can inspect all features of the issue, including its history.</p>
<p>Let us assume that we do have everything in hand we need to fix the bug. (Including a Nokia Communicator device for testing, that is.) This will take some time, during which we won’t need our bug database.</p>
<p><img alt="" src="https://upload.wikimedia.org/wikipedia/commons/2/2f/Prague_Astronomical_Clock_animated.gif" /></p>
<p>Let us now assume that we actually have fixed the bug. This means that we have to go back to our bug database such that we can mark the bug as <em>resolved</em>. For this, we open the issue again and click on “Edit”, and then change the status from “New” to “Resolved”.</p>
<p>At the bottom, we can add more notes.</p>
<p>After clicking on “Submit”, we are done. Time for the next bug to fix!</p>
</section>
<section id="the-life-cycle-of-an-issue">
<h2>The Life Cycle of an Issue<a class="headerlink" href="#the-life-cycle-of-an-issue" title="Link to this heading">#</a></h2>
<p>We have successfully reported an issue (as some third party), assigned it (as a manager), and resolved it (as a developer). Great! However, the steps we have been going through are just one way an issue might be handled.</p>
<section id="resolutions">
<h3>Resolutions<a class="headerlink" href="#resolutions" title="Link to this heading">#</a></h3>
<p>First, an issue can have multiple <em>resolutions</em> besides being fixed. Typical resolutions include the following:</p>
<section id="fixed">
<h4>FIXED<a class="headerlink" href="#fixed" title="Link to this heading">#</a></h4>
<p>A fix for this issue is made and committed. This is the resolution we have seen for the “Nokia Communicator” bug #1, above.</p>
</section>
<section id="invalid">
<h4>INVALID<a class="headerlink" href="#invalid" title="Link to this heading">#</a></h4>
<p>The problem described is not an issue. This is what happens to entries in the issue database that actually do not describe an issue, or that do not provide sufficient information to address it.</p>
</section>
<section id="wontfix">
<h4>WONTFIX<a class="headerlink" href="#wontfix" title="Link to this heading">#</a></h4>
<p>The issue described is indeed an issue, but will never be fixed. This is a decision of which features (and fixes!) are part of the product, and which ones are not. Our listing of hypothetical issues, above, has an entry complaining that the book “does not work with Python 2.7 or earlier”. This will not be fixed.</p>
</section>
<section id="duplicate">
<h4>DUPLICATE<a class="headerlink" href="#duplicate" title="Link to this heading">#</a></h4>
<p>The issue is a duplicate of an existing issue. In our listing of hypothetic issues, we have two issues reporting problems with PDF exports. By making one of these a duplicate of the other. we can ensure that both will be fixed (and checked) at the same time.</p>
<p>If your product has several users, your issue database will have several duplicates, as multiple users will stumble across the same bugs. Some developers consider such duplicates as a burden, as identifying duplicates takes time. However, the study by Bettenburg et al.~\cite{Bettenburg2008} points out that such duplicates have their value, too. One developer is quoted as</p>
<blockquote>
<div><p>Duplicates are not really problems. They often add useful information. That this information were filed under a new report is not ideal thought.</p>
</div></blockquote>
</section>
<section id="worksforme">
<h4>WORKSFORME<a class="headerlink" href="#worksforme" title="Link to this heading">#</a></h4>
<p>The developer could not reproduce the issue, and the code provided no hints on why such a behavior might occur. Such issues are often reopened when more information becomes available.</p>
</section>
</section>
<section id="an-issue-life-cycle">
<h3>An Issue Life Cycle<a class="headerlink" href="#an-issue-life-cycle" title="Link to this heading">#</a></h3>
<p>With this in mind, we can sketch the individual states an issue report goes through: After submission (NEW), the report is assigned to a developer (ASSIGNED), and then resolved (RESOLVED) with one of the resolutions listed above.</p>
<p>Unfortunately, software development is more complicated than that. There are many things that can happen while an issue is being worked on.</p>
<ul class="simple">
<li><p>When an issue report comes in, it may be resolved as “invalid” or “duplicate” before even being assigned to a developer.</p></li>
<li><p>The developer assigned to an issue might change.</p></li>
<li><p>Fixes suggested by developers might be subject to <em>quality assurance</em>, to ensure that they</p>
<ul>
<li><p>fix the error under all circumstances</p></li>
<li><p>do not introduce new errors</p></li>
</ul>
</li>
<li><p>Issues may be <em>reopened</em> if the fix is inadequate or new information becomes available.</p></li>
</ul>
<p>With this in mind, the states an issue report can go through become a bit more complex. Note how issues start in a state of “UNCONFIRMED” as long as nobody has assessed them, and how issues are marked as “CLOSED” (the final state) only after the resolution has been checked by quality assurance.</p>
<p>Such states (and the implied transitions between them) can be found in any issue tracking system. The actual names may vary (ASSIGNED is also known as IN_PROGRESS; instead of or besides CLOSED, one can also have VERIFIED), but their meanings are always the same.</p>
<p>Whatever the states and resolutions are called (and they can be configured, anyway), the important thing is that they be used consistently for your project and in your organization. This is how at any point, any team member can see</p>
<ul class="simple">
<li><p>what the most pressing tasks are;</p></li>
<li><p>what he or she should be working on; and</p></li>
<li><p>what the overall state of the project is.</p></li>
</ul>
<p>The latter point is particularly important, since an issue tracker need not only be used for tracking bugs, but also for tracking and assigning <em>features</em> – notably features that have been decided to be part of the product. Hence, if you want to have some new feature implemented, you can mark it as a “NEW” issue, break it into subfeatures, also all marked as “NEW”, and then assign the associated subtasks to individual developers. The feature would then be ready when all subtasks are completed as “FIXED”.</p>
<p>This way, you can <em>organize an entire software project through the issue tracker.</em> Start with the first issue “The product is missing”, and then keep on defining and assigning subtasks; when all are resolved, the product will be ready. Since some issue trackers (including <em>Redmine</em>) also allow developers to report how far they got with resolving an issue (say, “10%”, “50%”, or “90%”), you can even estimate how long resolving the open issues will take.</p>
<p>Over time, an issue database not only becomes an important tool for managing bug fixing and organizing software development, it also holds a trove of data about where, what, and why specific issues were addressed. In the <a class="reference internal" href="ChangeCounter.html"><span class="std std-doc">next chapter</span></a>, we will explore how to mine and evaluate such data.</p>
</section>
</section>
<section id="lessons-learned">
<h2>Lessons Learned<a class="headerlink" href="#lessons-learned" title="Link to this heading">#</a></h2>
<ul class="simple">
<li><p>In an organization, fixing bugs and issues is best organized through an <em>issue tracker</em>.</p></li>
<li><p>An <em>issue tracker</em> allows issue reports</p>
<ul>
<li><p>to be <em>collected</em>;</p></li>
<li><p>to assign them with a <em>state</em> (from NEW to CLOSED) in its <em>life cycle</em>;</p></li>
<li><p>to be <em>assigned</em> to developers; and</p></li>
<li><p>to assign them with a <em>resolution</em> (including FIXED, DUPLICATE, and WORKSFORME).</p></li>
</ul>
</li>
<li><p>Issue trackers can organize the entire software development, including new products and features.</p></li>
</ul>
</section>
<section id="next-steps">
<h2>Next Steps<a class="headerlink" href="#next-steps" title="Link to this heading">#</a></h2>
<ul class="simple">
<li><p>The <a class="reference internal" href="ChangeCounter.html"><span class="std std-doc">chapter on mining version histories</span></a> describes how to <em>mine</em> and <em>analyze</em> the data from bug and version databases.</p></li>
</ul>
</section>
<section id="background">
<h2>Background<a class="headerlink" href="#background" title="Link to this heading">#</a></h2>
<p>The survey by Bettenburg et al. \cite{Bettenburg2008} is the seminal work on how developers make use of bug reports. The study by Bertram et al. \cite{Bertram2010} highlights how issue trackers are not just databases, but “a focal point for communication and coordination for many stakeholders within and beyond the software team.”</p>
<p>The report by \cite{Glerum2009} provides details on how <em>Windows Error Reporting</em> automates the processing of error reports coming from an installed base of a billion machines, providing impressive numbers on bugs in the wild.</p>
<p>Research on bug databases has very much focused on how to make predictions such as automatically identifying duplicates \cite{Wang2008}, possible bug locations \cite{Kim2013}, or automatically assigning issues to developers \cite{Anvik2006}. Herzig et al. \cite{Herzig2013}, however point out that much of the information in bug database is not classified properly enough, for instance to reliably distinguish between bugs and features.</p>
<p>Mozilla’s <a class="reference external" href="https://bugzilla.mozilla.org/">Bugzilla bug database</a> is one of the largest publicly available issue databases. It is worth browsing for real-world bug reports, and also contains important articles on how to write and use bug reports.</p>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./."
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

                </article>
              

              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="Repairer.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">Repairing Code Automatically</p>
      </div>
    </a>
    <a class="right-next"
       href="ChangeCounter.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Where the Bugs are</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#synopsis">Synopsis</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#reporting-issues">Reporting Issues</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#what-goes-in-a-bug-report">What Goes in a Bug Report?</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#steps-to-reproduce-83">Steps to Reproduce (83%)</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#stack-traces-57">Stack Traces (57%)</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#test-cases-51">Test Cases (51%)</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#observed-behavior-33">Observed Behavior (33%)</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#screenshots-26">Screenshots (26%)</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#expected-behavior-22">Expected Behavior (22%)</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#configuration-information-12">Configuration Information (&lt; 12%)</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#reporting-crashes-automatically">Reporting Crashes Automatically</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#effective-issue-reporting">Effective Issue Reporting</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#an-issue-tracker">An Issue Tracker</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#excursion-setting-up-redmine">Excursion: Setting up Redmine</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#end-of-excursion">End of Excursion</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#excursion-starting-redmine">Excursion: Starting Redmine</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id1">End of Excursion</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#excursion-remote-control-with-selenium">Excursion: Remote Control with Selenium</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id2">End of Excursion</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#excursion-screenshots-with-drop-shadows">Excursion: Screenshots with Drop Shadows</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id3">End of Excursion</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#excursion-first-registration-at-redmine">Excursion: First Registration at Redmine</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id4">End of Excursion</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#excursion-creating-a-project">Excursion: Creating a Project</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id5">End of Excursion</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#reporting-an-issue">Reporting an Issue</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#excursion-adding-some-more-issue-reports">Excursion: Adding Some More Issue Reports</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id6">End of Excursion</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#managing-issues">Managing Issues</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#assigning-priorities">Assigning Priorities</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#assigning-issues">Assigning Issues</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#resolving-issues">Resolving Issues</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#the-life-cycle-of-an-issue">The Life Cycle of an Issue</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#resolutions">Resolutions</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#fixed">FIXED</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#invalid">INVALID</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#wontfix">WONTFIX</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#duplicate">DUPLICATE</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#worksforme">WORKSFORME</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#an-issue-life-cycle">An Issue Life Cycle</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#lessons-learned">Lessons Learned</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#next-steps">Next Steps</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#background">Background</a></li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By Andreas Zeller
</p>

  </div>
  
  <div class="footer-item">
    

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
<div class="extra_footer">
  <div>
  Copyright &copy; 2021–2025 <a href="https://www.cispa.de/">CISPA Helmholtz Center for Information Security</a>.
  The <strong>content</strong> of this project is licensed under the <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/">Creative Commons Attribution-NonCommercial-ShareAlike 4.0 International License</a>.
  The <strong>source code</strong> that is part of the content, as well as the source code used to format and display that content is licensed under the <a href="https://github.com/uds-se/debuggingbook/blob/master/LICENSE.md#mit-license">MIT License</a>.
  <br>
  <a href="https://cispa.de/en/impressum">Imprint</a> &middot; <a href="/html/index.html#how-do-i-cite-your-work">Cite</a>
</div>

</div>
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b"></script>
<script src="_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>